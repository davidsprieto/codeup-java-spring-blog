<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head  th:replace="partials/header :: header-links"></head>
<body style="text-align: center">

<!--    This content is only shown to UNAUTHENTICATED users.-->
<div sec:authorize="!isAuthenticated()">
    <nav th:replace="partials/navbar :: navbar"></nav>

</div>

<!--    This content is only shown to AUTHENTICATED users.-->
<div sec:authorize="isAuthenticated()">
    <nav th:replace="partials/navbar-logged-in :: navbar-logged-in"></nav>

</div>

<div class="container">
    <h1 th:text="'Here is your profile, ' + ${user.username} + '!'"></h1>
</div>

<div class="container">
    <h2>Here are all your posts!</h2>
</div>

<div class="container" th:each="post : ${posts}">
    <a th:text="${post.title}" th:href="@{|/posts/${post.id}|}"></a>
    <p th:text="${post.body}"></p>
</div>

<br/>

<footer th:insert="partials/footer :: footer" style="margin-top: 500px"></footer>

<!-- JQuery Library -->
<script type="application/javascript"  src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<!-- Bootstrap CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
</body>
</html>